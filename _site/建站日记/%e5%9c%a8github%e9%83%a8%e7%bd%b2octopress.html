<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="keywords" content=""/>
    <meta name="author" content="liyouhai.com"> 
    <link rel="canonical" href="http://liyouhai.com/%E5%BB%BA%E7%AB%99%E6%97%A5%E8%AE%B0/%25e5%259c%25a8github%25e9%2583%25a8%25e7%25bd%25b2octopress.html">
    <link href="http://liyouhai.com/rss.xml" title="RSS 2.0" type="application/rss+xml" rel="alternate"/>
    <link href="/img/favicon.ico" rel="icon" type="image/x-icon">
    <title>在GitHub部署OctoPress - IvanPig's Blog</title>
    <link rel="stylesheet" href="/css/min/pure-min.css">
    <!--[if lte IE 8]>
    <link rel="stylesheet" href="/css/min/grids-responsive-old-ie-min.css">
    <![endif]-->
    <!--[if gt IE 8]><!-->
    <link rel="stylesheet" href="/css/min/grids-responsive-min.css">
    <!--<![endif]-->

    <!--[if lte IE 8]>
    <link rel="stylesheet" href="/css/JekyllPure-old-ie.css">
    <![endif]-->
    <!--[if gt IE 8]><!-->
    <link rel="stylesheet" href="/css/JekyllPure.css">
    <!--<![endif]-->

    <link href="/css/min/font-awesome.min.css" rel="stylesheet">
    <!--[if lte IE 8]>
    <link rel="stylesheet" href="/css/min/font-awesome-ie7.min.css">
    <![endif]-->
    <script src="/js/min/jquery-1.7.2.min.js"></script>
    <!--
     /\_ \    __                         /\ \                __
     \//\ \  /\_\  __  __    ___   __  __\ \ \___      __   /\_\
       \ \ \ \/\ \/\ \/\ \  / __`\/\ \/\ \\ \  _ `\  /'__`\ \/\ \
        \_\ \_\ \ \ \ \_\ \/\ \L\ \ \ \_\ \\ \ \ \ \/\ \L\.\_\ \ \
        /\____\\ \_\/`____ \ \____/\ \____/ \ \_\ \_\ \__/.\_\\ \_\
        \/____/ \/_/`/___/> \/___/  \/___/   \/_/\/_/\/__/\/_/ \/_/
                       /\___/
                       \/__/
     图像可以到http://asciigen.com/  生成..记得翻墙才能正常生成.如不方便可以博客留言我帮你生成
     -->
</head>

<body>







<div id="layout" class="pure-g">
    <div class="sidebar pure-u-1 pure-u-md-1-4">
        <div class="header">
            <div class="headerpic">
                <a href="/">
                    <img src="/img/op.jpg" alt="Profile Picture" style="width: 140px;" title="返回首页">
                </a>
            </div>
            <!-- <h1 class="brand-title">IvanPig's Blog</h1>-->
            <h2 class="brand-tagline">IvanPig's Blog</h2>

            <nav class="nav">
                <ul class="nav-list">
                    <li class="nav-item">
                        <a class="pure-button" href="/Timing">时间轴</a>
                    </li>
                    <li class="nav-item">
                        <a class="pure-button" href="/tag">标签库</a>
                    </li>
                    <!--<li class="nav-item">
                        <a class="pure-button" href="/1">收藏站</a>
                    </li>
                    <li class="nav-item">
                        <a class="pure-button" href="/1">音乐屋</a>-->

                </ul>
            </nav>
            <div class="search">
                <form action="/search">
                    <input type="text" class="search-query" placeholder="Search Blog" name="query" title="全站搜索-只支持英文">
                </form>
            </div>
            <div id="toc"></div>
            <nav id="nav">
                <ul class="nav-list">
                    <li class="nav-link">
                    <a class="weibo "  href="http://weibo.com/1686537657/profile?topnav=1&wvr=6" ><i class="fa fa-weibo fa-2x"></i></a>
                    </li>
                    <li class="nav-link">
                    <a class="github" href="https://github.com/ivanpig"><i class="fa fa-github fa-2x"></i></a>
                    </li>
                    <li class="nav-link">
                    <a class="rss" href="/rss.xml" ><i class="fa fa-rss fa-2x"></i></a>
                    </li>
                </ul>
            </nav>
        </div>
    </div>

    <div class="content pure-u-1 pure-u-md-3-4">
        <!--[if lt IE 8]>
        <i class="label label-danger">亲爱的用户，您的浏览器版本过低，建议您升级浏览器获得更好的用户体验</i>
        <![endif]-->
        <div>
            <div class="posts">

                <div class="qrcodeTable"></div>
<header class="post-header">
    <img class="post-avatar" height="48" width="48"
         src="">

    <h2 class="post-title">在GitHub部署OctoPress</h2>

    <p class="post-meta">By 06月14日  2014  



 
<a class="post-categorybut " href="/type/#"><i class="fa fa-folder-open"></i> 建站日记 (7)</a>


  

  
</header>
<div class="article pure-u-22-24">
    <div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">1. 简介</a></li>
<li><a href="#sec-2">2. 环境</a></li>
<li><a href="#sec-3">3. 步骤</a>
<ul>
<li><a href="#sec-3-1">3.1. 安装ruby</a></li>
<li><a href="#sec-3-2">3.2. 安装Octopress</a></li>
<li><a href="#sec-3-3">3.3. 配置Octopress</a></li>
<li><a href="#sec-3-4">3.4. 初始化博客</a></li>
<li><a href="#sec-3-5">3.5. 安装第三方主题</a></li>
<li><a href="#sec-3-6">3.6. 部署博客到Github上</a></li>
<li><a href="#sec-3-7">3.7. 提交源码到source分支</a></li>
<li><a href="#sec-3-8">3.8. 写博客</a></li>
<li><a href="#sec-3-9">3.9. 添加多说评论</a></li>
<li><a href="#sec-3-10">3.10. 使用org-mode生成markdown</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> 简介</h2>
<div class="outline-text-2" id="text-1">
<p>
本文记录本人使用Octopress,Github搭建博客的流程.具体方案都是从网上搜索<br />
得到.只记录操作流程,方便后续使用!<br />
浏览地址:<a href="http://ivanpig.github.io/">http://ivanpig.github.io/</a></p>
</div>
</div>
<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2"><span class="section-number-2">2</span> 环境</h2>
<div class="outline-text-2" id="text-2">
<ul class="org-ul">
<li>Linux Mint 16
</li>
<li>ruby 1.9.3
</li>
<li>Octopress
</li>
<li>emacs
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3"><span class="section-number-2">3</span> 步骤</h2>
<div class="outline-text-2" id="text-3">
</div>
<div id="outline-container-sec-3-1" class="outline-3">
<h3 id="sec-3-1"><span class="section-number-3">3.1</span> 安装ruby</h3>
<div class="outline-text-3" id="text-3-1">
<p>
需要ruby版本1.9.3,执行如下命令,安装ruby1.9.3</p>
<div class="org-src-container">
<pre class="src src-sh">sudo apt-get install ruby1.9.3
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-3-2" class="outline-3">
<h3 id="sec-3-2"><span class="section-number-3">3.2</span> 安装Octopress</h3>
<div class="outline-text-3" id="text-3-2">
<div class="org-src-container">
<pre class="src src-sh">git clone git://github.com/imathis/octopress.git octopress  
<span style="color: #859900;">cd</span> octopress
gem install bundler
bundle install
rake install
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-3-3" class="outline-3">
<h3 id="sec-3-3"><span class="section-number-3">3.3</span> 配置Octopress</h3>
<div class="outline-text-3" id="text-3-3">
<ul class="org-ul">
<li>修改<sub>config</sub>.yml的url,title,subtitle,author,email等信息.其中url为在<br />
github创建的仓库地址我的就是:<a href="https://github.com/ivanpig/ivanpig.github.com">https://github.com/ivanpig/ivanpig.github.com</a>
</li>
<li>删除source/<sub>include</sub>/custom/head.html和source/<sub>include</sub>/head.html中的<br />
谷歌字体.否则大陆访问速度超慢
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-3-4" class="outline-3">
<h3 id="sec-3-4"><span class="section-number-3">3.4</span> 初始化博客</h3>
<div class="outline-text-3" id="text-3-4">
<p>
Octopress生成的博客文件在<sub>deploy目录下</sub>,所以需要将此目录作为github仓库<br />
的master路径.执行如下命令:</p>
<div class="org-src-container">
<pre class="src src-sh">git clone https://github.com/ivanpig/ivanpig.github.com _deploy
<span style="color: #859900;">cd</span> _deploy
git checkout
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-3-5" class="outline-3">
<h3 id="sec-3-5"><span class="section-number-3">3.5</span> 安装第三方主题</h3>
<div class="outline-text-3" id="text-3-5">
<p>
第三方主题可以到这里下载:<a href="https://github.com/imathis/octopress/wiki/3rd-Party-Octopress-Themes">https://github.com/imathis/octopress/wiki/3rd-Party-Octopress-Themes</a><br />
我使用的是greyshade</p>
<div class="org-src-container">
<pre class="src src-sh">git clone  https://github.com/shashankmehta/greyshade.git .themes/greyshade
rake install[<span style="color: #2aa198;">'greyshade'</span>]
rake generate
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-3-6" class="outline-3">
<h3 id="sec-3-6"><span class="section-number-3">3.6</span> 部署博客到Github上</h3>
<div class="outline-text-3" id="text-3-6">
<ul class="org-ul">
<li>生成的文件发布到master上,源文件发布到source分支上
</li>
</ul>
<div class="org-src-container">
<pre class="src src-sh">rake setup_github_pages
</pre>
</div>
<p>
上面的命令最主要的作用就是创建一个<sub>deploy目录，目录用来存放部署到master分支的内容。期间会要求你输入仓库的url，根据提示，进行输入即可。</sub></p>
<div class="org-src-container">
<pre class="src src-sh">rake generate  
rake deploy
</pre>
</div>
<p>
上面的命令进行部署.在deploy之前,你可以</p>
<div class="org-src-container">
<pre class="src src-sh">rake preview
</pre>
</div>
<p>
访问<a href="http://localhost:4000">http://localhost:4000</a> 进行预览</p>
</div>
</div>
<div id="outline-container-sec-3-7" class="outline-3">
<h3 id="sec-3-7"><span class="section-number-3">3.7</span> 提交源码到source分支</h3>
<div class="outline-text-3" id="text-3-7">
<div class="org-src-container">
<pre class="src src-sh">git add .  
git commit -m <span style="color: #2aa198;">'Initial source commit'</span>  
git push origin source
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-3-8" class="outline-3">
<h3 id="sec-3-8"><span class="section-number-3">3.8</span> 写博客</h3>
<div class="outline-text-3" id="text-3-8">
<div class="org-src-container">
<pre class="src src-sh">rake new_post[<span style="color: #2aa198;">"title"</span>]
</pre>
</div>
<p>
其中title为博文的文件名，创建出来的文件默认是markdown格式。上面的命令会创建出这样一个文件：source/<sub>posts</sub>/2013-08-03-title.markdown。<br />
打开这个文件，可以看到里面有如下一些内容了(告诉Jekyll博客引擎如何处理博文和页面)：</p>
<div class="org-src-container">
<pre class="src src-md">---  
layout: post  
title: "title"  
date: 2014-06-15 16:36  
comments: true  
categories:   
---
</pre>
</div>
<p>
在此文件中编写markdown即可.<br />
整体流程如下:</p>
<div class="org-src-container">
<pre class="src src-sh">rake new_post[<span style="color: #2aa198;">"New Post"</span>]  
rake generate  
git add .  
git commit -am <span style="color: #2aa198;">"Some comment here."</span>   
git push origin source  
rake deploy
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-3-9" class="outline-3">
<h3 id="sec-3-9"><span class="section-number-3">3.9</span> 添加多说评论</h3>
<div class="outline-text-3" id="text-3-9">
<p>
在<sub>config</sub>.yml中添加</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #93a1a1; font-style: italic;"># </span><span style="color: #93a1a1; font-style: italic;">duoshuo comments</span>
duoshuo_comments: true
duoshuo_short_name: yourname
</pre>
</div>
<p>
在 source/<sub>layouts</sub>/post.html 中的 disqus代码<br />
下方添加 多说评论 模块</p>
<div class="org-src-container">
<pre class="src src-html">
</pre>
</div>
<p>
然后就按路径创建一个 source/<sub>includes</sub>/post/duoshuo.html</p>
<div class="org-src-container">
<pre class="src src-html"><span style="color: #93a1a1; font-style: italic;">&lt;!-- </span><span style="color: #93a1a1; font-style: italic;">Duoshuo Comment BEGIN </span><span style="color: #93a1a1; font-style: italic;">--&gt;</span>
&lt;<span style="color: #268bd2;">div</span> <span style="color: #268bd2;">class</span>=<span style="color: #2aa198;">"ds-thread"</span> <span style="color: #268bd2;">data-title</span>=<span style="color: #2aa198;">""</span>&gt;&lt;/<span style="color: #268bd2;">div</span>&gt;
&lt;<span style="color: #268bd2;">script</span> <span style="color: #268bd2;">type</span>=<span style="color: #2aa198;">"text/javascript"</span>&gt;
  var duoshuoQuery = {short_name:<span style="color: #2aa198;">""</span>};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = 'http://static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
    || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
&lt;/<span style="color: #268bd2;">script</span>&gt;
<span style="color: #93a1a1; font-style: italic;">&lt;!-- </span><span style="color: #93a1a1; font-style: italic;">Duoshuo Comment END </span><span style="color: #93a1a1; font-style: italic;">--&gt;</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-3-10" class="outline-3">
<h3 id="sec-3-10"><span class="section-number-3">3.10</span> 使用org-mode生成markdown</h3>
<div class="outline-text-3" id="text-3-10">
<p>
本人习惯使用emacs的org-mode来写文档.org-mode可以直接生成markdown文件.只<br />
需要执行M-X org-md-export-to-md 即可<br />
本文即使用org-mode编写.</p>
</div>
</div>
</div>

</div>

    <div class="pure-g pagination">
        
        <a class="pure-u-1-2 pagination-item " href="/clojure/clojure%25e8%25bf%259b%25e9%2598%25b6%25e4%25bd%25bf%25e7%2594%25a8clojure%25e7%25bc%2596%25e5%2586%2599%25e6%2596%2587%25e5%25ad%2597%25e5%2586%2592%25e9%2599%25a9%25e6%25b8%25b8%25e6%2588%258f.html" title="Clojure进阶:使用Clojure编写文字冒险游戏 "><p> <i class="fa fa-mail-reply"></i>&nbsp;Clojure进阶:使用Clojure编写文字冒险游戏</p></a>
        
        
        <a class="pure-u-1-2 pagination-item " href="/clojure/clojure%25e6%2595%2599%25e7%25a8%258b%25e5%2591%25bd%25e5%2590%258d%25e7%25a9%25ba%25e9%2597%25b4-4.html" title="Clojure教程:命名空间"><p>Clojure教程:命名空间&nbsp;<i class="fa fa-mail-forward"></i></p></a>
        
    </div>
    <link href="/css/code.css" rel="stylesheet">
    <link href="/css/min/fancybox.css" rel="stylesheet">
    <script src="/js/min/jquery.toc.min.js" ></script>
    <script src="/js/min/jquery.qrcode.min.js" ></script>
    <script src="/js/min/jquery.fancybox.pack.js" ></script>
    <script src="/js/page.js" ></script>

    
    

    
    
    <a name="comments"> </a>
<div id="comment">
    <div class="ds-thread" data-title="在GitHub部署OctoPress"></div>
    <script type="text/javascript">
        var duoshuoQuery = {short_name:""};
        (function() {
            var ds = document.createElement('script');
            ds.type = 'text/javascript';ds.async = true;
            ds.src = '../js/min/duoshuo.js';
            ds.charset = 'UTF-8';
            (document.getElementsByTagName('head')[0]
                    || document.getElementsByTagName('body')[0]).appendChild(ds);
        })();
    </script>
</div>

    






            </div>
            </div>
        <div class="footer">
                <a href="/love/welcome-my-blog.html">About</a>
                 <a href="/1">Collecting</a>
                <a href="tencent://message/?uin=561802774">QQ</a>
                <a href="https://github.com/ivanpig">GitHub</a>
            <script src="/js/min/nprogress.min.js"></script>
            <script src="/js/index.js"></script>
        </div>
        <div class="topfade"><a href="javascript:;" title="返回顶部"></a></div>

    </div>

</div>

</body>

</html>
