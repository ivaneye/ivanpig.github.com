<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="keywords" content="java, scala"/>
    <meta name="author" content="liyouhai.com"> 
    <link rel="canonical" href="http://liyouhai.com/java-scala/%25e5%25bf%25ab%25e5%25ad%25a6scala%25e4%25b9%25a0%25e9%25a2%2598%25e8%25a7%25a3%25e7%25ad%2594-%25e7%25ac%25ac%25e5%258d%2581%25e4%25b8%2580%25e7%25ab%25a0-%25e6%2593%258d%25e4%25bd%259c%25e7%25ac%25a6.html">
    <link href="http://liyouhai.com/rss.xml" title="RSS 2.0" type="application/rss+xml" rel="alternate"/>
    <link href="/img/favicon.ico" rel="icon" type="image/x-icon">
    <title>快学Scala习题解答—第十一章 操作符 - IvanPig's Blog</title>
    <link rel="stylesheet" href="/css/min/pure-min.css">
    <!--[if lte IE 8]>
    <link rel="stylesheet" href="/css/min/grids-responsive-old-ie-min.css">
    <![endif]-->
    <!--[if gt IE 8]><!-->
    <link rel="stylesheet" href="/css/min/grids-responsive-min.css">
    <!--<![endif]-->

    <!--[if lte IE 8]>
    <link rel="stylesheet" href="/css/JekyllPure-old-ie.css">
    <![endif]-->
    <!--[if gt IE 8]><!-->
    <link rel="stylesheet" href="/css/JekyllPure.css">
    <!--<![endif]-->

    <link href="/css/min/font-awesome.min.css" rel="stylesheet">
    <!--[if lte IE 8]>
    <link rel="stylesheet" href="/css/min/font-awesome-ie7.min.css">
    <![endif]-->
    <script src="/js/min/jquery-1.7.2.min.js"></script>
    <!--
     /\_ \    __                         /\ \                __
     \//\ \  /\_\  __  __    ___   __  __\ \ \___      __   /\_\
       \ \ \ \/\ \/\ \/\ \  / __`\/\ \/\ \\ \  _ `\  /'__`\ \/\ \
        \_\ \_\ \ \ \ \_\ \/\ \L\ \ \ \_\ \\ \ \ \ \/\ \L\.\_\ \ \
        /\____\\ \_\/`____ \ \____/\ \____/ \ \_\ \_\ \__/.\_\\ \_\
        \/____/ \/_/`/___/> \/___/  \/___/   \/_/\/_/\/__/\/_/ \/_/
                       /\___/
                       \/__/
     图像可以到http://asciigen.com/  生成..记得翻墙才能正常生成.如不方便可以博客留言我帮你生成
     -->
</head>

<body>







<div id="layout" class="pure-g">
    <div class="sidebar pure-u-1 pure-u-md-1-4">
        <div class="header">
            <div class="headerpic">
                <a href="/">
                    <img src="/img/op.jpg" alt="Profile Picture" style="width: 140px;" title="返回首页">
                </a>
            </div>
            <!-- <h1 class="brand-title">IvanPig's Blog</h1>-->
            <h2 class="brand-tagline">IvanPig's Blog</h2>

            <nav class="nav">
                <ul class="nav-list">
                    <li class="nav-item">
                        <a class="pure-button" href="/Timing">时间轴</a>
                    </li>
                    <li class="nav-item">
                        <a class="pure-button" href="/tag">标签库</a>
                    </li>
                    <!--<li class="nav-item">
                        <a class="pure-button" href="/1">收藏站</a>
                    </li>
                    <li class="nav-item">
                        <a class="pure-button" href="/1">音乐屋</a>-->

                </ul>
            </nav>
            <div class="search">
                <form action="/search">
                    <input type="text" class="search-query" placeholder="Search Blog" name="query" title="全站搜索-只支持英文">
                </form>
            </div>
            <div id="toc"></div>
            <nav id="nav">
                <ul class="nav-list">
                    <li class="nav-link">
                    <a class="weibo "  href="http://weibo.com/1686537657/profile?topnav=1&wvr=6" ><i class="fa fa-weibo fa-2x"></i></a>
                    </li>
                    <li class="nav-link">
                    <a class="github" href="https://github.com/ivanpig"><i class="fa fa-github fa-2x"></i></a>
                    </li>
                    <li class="nav-link">
                    <a class="rss" href="/rss.xml" ><i class="fa fa-rss fa-2x"></i></a>
                    </li>
                </ul>
            </nav>
        </div>
    </div>

    <div class="content pure-u-1 pure-u-md-3-4">
        <!--[if lt IE 8]>
        <i class="label label-danger">亲爱的用户，您的浏览器版本过低，建议您升级浏览器获得更好的用户体验</i>
        <![endif]-->
        <div>
            <div class="posts">

                <div class="qrcodeTable"></div>
<header class="post-header">
    <img class="post-avatar" height="48" width="48"
         src="">

    <h2 class="post-title">快学Scala习题解答—第十一章 操作符</h2>

    <p class="post-meta">By 01月02日  2013  



 
<a class="post-categorybut " href="/type/#"><i class="fa fa-folder-open"></i> java-scala (20)</a>


  



		  
			 
<a class="post-category " href="/tag/#java"><i class="fa fa-tags"></i> java (16)</a>
 
<a class="post-category " href="/tag/#java"><i class="fa fa-tags"></i> scala (19)</a>

		  
		  
		  
</header>
<div class="article pure-u-22-24">
    <p>
	&nbsp;</p>
<h2 id="sec-12" style="margin: 5px; color: rgb(101, 122, 131); font-family: MONACO, 'trebuchet ms', arial, helvetica, sans-serif; background-color: rgb(253, 246, 227);">
	<span class="section-number-2">12</span>&nbsp;操作符<br />
</h2>
<div class="outline-text-2" id="text-12" style="color: rgb(101, 122, 131); font-family: MONACO, 'trebuchet ms', arial, helvetica, sans-serif; font-size: 13px; background-color: rgb(253, 246, 227);">
	&nbsp;
</div>
<div class="outline-3" id="outline-container-12-1" style="color: rgb(101, 122, 131); font-family: MONACO, 'trebuchet ms', arial, helvetica, sans-serif; font-size: 13px; background-color: rgb(253, 246, 227);">
<h3 id="sec-12-1" style="margin: 5px 10px;">
		<span class="section-number-3">12.1</span>&nbsp;根据优先级规则,3 + 4 -&gt; 5和3 -&gt; 4 + 5是如何被求值的？<br />
	</h3>
<div class="outline-text-3" id="text-12-1">
<p style="margin: 5px 10px; text-indent: 40px;">
			在REPL中执行即可得到结果。都是从左至右执行
		</p>
</p></div>
</div>
<div class="outline-3" id="outline-container-12-2" style="color: rgb(101, 122, 131); font-family: MONACO, 'trebuchet ms', arial, helvetica, sans-serif; font-size: 13px; background-color: rgb(253, 246, 227);">
<h3 id="sec-12-2" style="margin: 5px 10px;">
		<span class="section-number-3">12.2</span>&nbsp;BigInt类有一个pow方法,但没有用操作符字符。Scala类库的设计者为什么没有选用**(像Fortran那样)或者^(像Pascal那样)作为乘方操作符呢？<br />
	</h3>
<div class="outline-text-3" id="text-12-2">
<p style="margin: 5px 10px; text-indent: 40px;">
			Scala中的操作符就是方法，其优先级是根据首字母来判断的，优先级如下
		</p>
<pre class="example" style="border: 1pt solid rgb(174, 189, 204); background-color: rgb(243, 245, 247); padding: 5pt; font-family: courier, monospace; font-size: small; overflow: auto; margin: 5px 10px;">
最高优先级:除以下字符外的操作符字符
 * / % 
+ - 
: 
= ! 
&lt; &gt; 
&amp; 
&circ; 
| 
非操作符
最低优先级:赋值操作符
</pre>
<p style="margin: 5px 10px; text-indent: 40px;">
			一般乘方的操作符是优于乘法操作的，如果使用**作为乘方的话，那么其优先级则与*相同，而如果使用^的话，则优先级低于*操作。优先级都是有问题的。故没有使用这两种操作符
		</p>
</p></div>
</div>
<div class="outline-3" id="outline-container-12-3" style="color: rgb(101, 122, 131); font-family: MONACO, 'trebuchet ms', arial, helvetica, sans-serif; font-size: 13px; background-color: rgb(253, 246, 227);">
<h3 id="sec-12-3" style="margin: 5px 10px;">
		<span class="section-number-3">12.3</span>&nbsp;实现Fraction类，支持+<sub>*</sub>/操作。支持约分，例如将15/-6变为-5/2。除以最大公约数,像这样:<br />
	</h3>
<div class="outline-text-3" id="text-12-3">
<pre class="src src-scala" style="border: 1pt solid rgb(174, 189, 204); background-color: rgb(243, 245, 247); padding: 5pt; font-family: courier, monospace; font-size: small; overflow: auto; margin: 5px 10px;">
<span style="color: rgb(133, 153, 0);">class</span> <span style="color: rgb(181, 137, 0);">Fraction</span>(<span style="color: rgb(38, 139, 210);">n</span>:<span style="color: rgb(181, 137, 0);">Int</span>,<span style="color: rgb(38, 139, 210);">d</span>:<span style="color: rgb(181, 137, 0);">Int</span>){
    <span style="color: rgb(133, 153, 0);">private</span> <span style="color: rgb(133, 153, 0);">val</span> <span style="color: rgb(38, 139, 210);">num</span>:<span style="color: rgb(181, 137, 0);">Int </span>= <span style="color: rgb(133, 153, 0);">if</span>(d==0) 1 <span style="color: rgb(133, 153, 0);">else</span> n * sign(d)/gcd(n,d);
    <span style="color: rgb(133, 153, 0);">private</span> <span style="color: rgb(133, 153, 0);">val</span> <span style="color: rgb(38, 139, 210);">den</span>:<span style="color: rgb(181, 137, 0);">Int </span>= <span style="color: rgb(133, 153, 0);">if</span>(d==0) 0 <span style="color: rgb(133, 153, 0);">else</span> d * sign(d)/gcd(n,d);
    <span style="color: rgb(133, 153, 0);">override</span> <span style="color: rgb(133, 153, 0);">def</span> <span style="color: rgb(38, 139, 210);">toString</span> = num + <span style="color: rgb(42, 161, 152);">&quot;/&quot;</span> + den
    <span style="color: rgb(133, 153, 0);">def</span> <span style="color: rgb(38, 139, 210);">sign</span>(<span style="color: rgb(38, 139, 210);">a</span>:<span style="color: rgb(181, 137, 0);">Int</span>) = <span style="color: rgb(133, 153, 0);">if</span>(a &gt; 0) 1 <span style="color: rgb(133, 153, 0);">else</span> <span style="color: rgb(133, 153, 0);">if</span> (a &lt; 0) -1 <span style="color: rgb(133, 153, 0);">else</span> 0
    <span style="color: rgb(133, 153, 0);">def</span> <span style="color: rgb(38, 139, 210);">gcd</span>(<span style="color: rgb(38, 139, 210);">a</span>:<span style="color: rgb(181, 137, 0);">Int</span>,<span style="color: rgb(38, 139, 210);">b</span>:<span style="color: rgb(181, 137, 0);">Int</span>):<span style="color: rgb(181, 137, 0);">Int </span>= <span style="color: rgb(133, 153, 0);">if</span>(b==0) abs(a) <span style="color: rgb(133, 153, 0);">else</span> gcd(b,a%b)
    ...
}
</pre>
<pre class="src src-scala" style="border: 1pt solid rgb(174, 189, 204); background-color: rgb(243, 245, 247); padding: 5pt; font-family: courier, monospace; font-size: small; overflow: auto; margin: 5px 10px;">
<span style="color: rgb(133, 153, 0);">import</span> scala.math.abs

<span style="color: rgb(133, 153, 0);">class</span> <span style="color: rgb(181, 137, 0);">Fraction</span>(<span style="color: rgb(38, 139, 210);">n</span>: <span style="color: rgb(181, 137, 0);">Int</span>, <span style="color: rgb(38, 139, 210);">d</span>: <span style="color: rgb(181, 137, 0);">Int</span>) {
  <span style="color: rgb(133, 153, 0);">private</span> <span style="color: rgb(133, 153, 0);">val</span> <span style="color: rgb(38, 139, 210);">num</span>: <span style="color: rgb(181, 137, 0);">Int </span>= <span style="color: rgb(133, 153, 0);">if</span> (d == 0) 1 <span style="color: rgb(133, 153, 0);">else</span> n * sign(d) / gcd(n, d);
  <span style="color: rgb(133, 153, 0);">private</span> <span style="color: rgb(133, 153, 0);">val</span> <span style="color: rgb(38, 139, 210);">den</span>: <span style="color: rgb(181, 137, 0);">Int </span>= <span style="color: rgb(133, 153, 0);">if</span> (d == 0) 0 <span style="color: rgb(133, 153, 0);">else</span> d * sign(d) / gcd(n, d);

  <span style="color: rgb(133, 153, 0);">override</span> <span style="color: rgb(133, 153, 0);">def</span> <span style="color: rgb(38, 139, 210);">toString</span> = num + <span style="color: rgb(42, 161, 152);">&quot;/&quot;</span> + den

  <span style="color: rgb(133, 153, 0);">def</span> <span style="color: rgb(38, 139, 210);">sign</span>(<span style="color: rgb(38, 139, 210);">a</span>: <span style="color: rgb(181, 137, 0);">Int</span>) = <span style="color: rgb(133, 153, 0);">if</span> (a &gt; 0) 1 <span style="color: rgb(133, 153, 0);">else</span> <span style="color: rgb(133, 153, 0);">if</span> (a &lt; 0) -1 <span style="color: rgb(133, 153, 0);">else</span> 0

  <span style="color: rgb(133, 153, 0);">def</span> <span style="color: rgb(38, 139, 210);">gcd</span>(<span style="color: rgb(38, 139, 210);">a</span>: <span style="color: rgb(181, 137, 0);">Int</span>, <span style="color: rgb(38, 139, 210);">b</span>: <span style="color: rgb(181, 137, 0);">Int</span>): <span style="color: rgb(181, 137, 0);">Int </span>= <span style="color: rgb(133, 153, 0);">if</span> (b == 0) abs(a) <span style="color: rgb(133, 153, 0);">else</span> gcd(b, a % b)

  <span style="color: rgb(133, 153, 0);">def</span> <span style="color: rgb(38, 139, 210);">+</span>(<span style="color: rgb(38, 139, 210);">other</span>:<span style="color: rgb(181, 137, 0);">Fraction</span>):<span style="color: rgb(181, 137, 0);">Fraction</span>={
    newFrac((<span style="color: rgb(133, 153, 0);">this</span>.num * other.den) + (other.num * <span style="color: rgb(133, 153, 0);">this</span>.den),<span style="color: rgb(133, 153, 0);">this</span>.den * other.den)
  }

  <span style="color: rgb(133, 153, 0);">def</span> <span style="color: rgb(38, 139, 210);">-</span>(<span style="color: rgb(38, 139, 210);">other</span>:<span style="color: rgb(181, 137, 0);">Fraction</span>):<span style="color: rgb(181, 137, 0);">Fraction</span>={
    newFrac((<span style="color: rgb(133, 153, 0);">this</span>.num * other.den) - (other.num * <span style="color: rgb(133, 153, 0);">this</span>.den),<span style="color: rgb(133, 153, 0);">this</span>.den * other.den)
  }

  <span style="color: rgb(133, 153, 0);">def</span> <span style="color: rgb(38, 139, 210);">*</span>(<span style="color: rgb(38, 139, 210);">other</span>:<span style="color: rgb(181, 137, 0);">Fraction</span>):<span style="color: rgb(181, 137, 0);">Fraction</span>={
    newFrac(<span style="color: rgb(133, 153, 0);">this</span>.num * other.num,<span style="color: rgb(133, 153, 0);">this</span>.den * other.den)
  }

  <span style="color: rgb(133, 153, 0);">def</span> <span style="color: rgb(38, 139, 210);">/</span>(<span style="color: rgb(38, 139, 210);">other</span>:<span style="color: rgb(181, 137, 0);">Fraction</span>):<span style="color: rgb(181, 137, 0);">Fraction</span>={
    newFrac(<span style="color: rgb(133, 153, 0);">this</span>.num * other.den,<span style="color: rgb(133, 153, 0);">this</span>.den * other.num)
  }

  <span style="color: rgb(133, 153, 0);">private</span> <span style="color: rgb(133, 153, 0);">def</span> <span style="color: rgb(38, 139, 210);">newFrac</span>(<span style="color: rgb(38, 139, 210);">a</span>:<span style="color: rgb(181, 137, 0);">Int</span>,<span style="color: rgb(38, 139, 210);">b</span>:<span style="color: rgb(181, 137, 0);">Int</span>):<span style="color: rgb(181, 137, 0);">Fraction</span>={
    <span style="color: rgb(133, 153, 0);">val</span> <span style="color: rgb(38, 139, 210);">x</span>:<span style="color: rgb(181, 137, 0);">Int </span>= <span style="color: rgb(133, 153, 0);">if</span> (b == 0) 1 <span style="color: rgb(133, 153, 0);">else</span> a * sign(b) / gcd(a, b);
    <span style="color: rgb(133, 153, 0);">val</span> <span style="color: rgb(38, 139, 210);">y</span>:<span style="color: rgb(181, 137, 0);">Int </span>= <span style="color: rgb(133, 153, 0);">if</span> (b == 0) 0 <span style="color: rgb(133, 153, 0);">else</span> b * sign(b) / gcd(a, b);
    <span style="color: rgb(133, 153, 0);">new</span> Fraction(x,y)
  }
}

<span style="color: rgb(133, 153, 0);">object</span> <span style="color: rgb(38, 139, 210);">Test</span> <span style="color: rgb(133, 153, 0);">extends</span> <span style="color: rgb(181, 137, 0);">App</span>{
  <span style="color: rgb(133, 153, 0);">val</span> <span style="color: rgb(38, 139, 210);">f</span> = <span style="color: rgb(133, 153, 0);">new</span> Fraction(15,-6)
  <span style="color: rgb(133, 153, 0);">val</span> <span style="color: rgb(38, 139, 210);">p</span> = <span style="color: rgb(133, 153, 0);">new</span> Fraction(20,60)
  println(f)
  println(p)
  println(f + p)
  println(f - p)
  println(f * p)
  println(f / p)
}
</pre>
</p></div>
</div>
<div class="outline-3" id="outline-container-12-4" style="color: rgb(101, 122, 131); font-family: MONACO, 'trebuchet ms', arial, helvetica, sans-serif; font-size: 13px; background-color: rgb(253, 246, 227);">
<h3 id="sec-12-4" style="margin: 5px 10px;">
		<span class="section-number-3">12.4</span>&nbsp;实现一个Money类,加入美元和美分字段。提供+,-操作符以及比较操作符==和&lt;。举例来说，Money(1,75)+Money(0,50)==Money(2,25)应为true。你应该同时提供*和/操作符吗？为什么？<br />
	</h3>
<div class="outline-text-3" id="text-12-4">
<pre class="src src-scala" style="border: 1pt solid rgb(174, 189, 204); background-color: rgb(243, 245, 247); padding: 5pt; font-family: courier, monospace; font-size: small; overflow: auto; margin: 5px 10px;">
<span style="color: rgb(133, 153, 0);">class</span> <span style="color: rgb(181, 137, 0);">Money</span>(<span style="color: rgb(133, 153, 0);">val</span> <span style="color: rgb(38, 139, 210);">dollar</span>:<span style="color: rgb(181, 137, 0);">BigInt</span>,<span style="color: rgb(133, 153, 0);">val</span> <span style="color: rgb(38, 139, 210);">cent</span>:<span style="color: rgb(181, 137, 0);">BigInt</span>){

  <span style="color: rgb(133, 153, 0);">def</span> <span style="color: rgb(38, 139, 210);">+</span>(<span style="color: rgb(38, 139, 210);">other</span>:<span style="color: rgb(181, 137, 0);">Money</span>):<span style="color: rgb(181, 137, 0);">Money</span>={
    <span style="color: rgb(133, 153, 0);">val</span> (<span style="color: rgb(38, 139, 210);">a</span>,<span style="color: rgb(38, 139, 210);">b</span>) = (<span style="color: rgb(133, 153, 0);">this</span>.cent + other.cent) /% 100
    <span style="color: rgb(133, 153, 0);">new</span> Money(<span style="color: rgb(133, 153, 0);">this</span>.dollar + other.dollar + a,b)
  }

  <span style="color: rgb(133, 153, 0);">def</span> <span style="color: rgb(38, 139, 210);">-</span>(<span style="color: rgb(38, 139, 210);">other</span>:<span style="color: rgb(181, 137, 0);">Money</span>):<span style="color: rgb(181, 137, 0);">Money</span>={
    <span style="color: rgb(133, 153, 0);">val</span> (<span style="color: rgb(38, 139, 210);">d</span>,<span style="color: rgb(38, 139, 210);">c</span>) = (<span style="color: rgb(133, 153, 0);">this</span>.toCent() - other.toCent()) /% 100
    <span style="color: rgb(133, 153, 0);">new</span> Money(d,c)
  }

  <span style="color: rgb(133, 153, 0);">private</span> <span style="color: rgb(133, 153, 0);">def</span> <span style="color: rgb(38, 139, 210);">toCent</span>()={
    <span style="color: rgb(133, 153, 0);">this</span>.dollar * 100 + <span style="color: rgb(133, 153, 0);">this</span>.cent
  }

  <span style="color: rgb(133, 153, 0);">def</span> <span style="color: rgb(38, 139, 210);">==</span>(<span style="color: rgb(38, 139, 210);">other</span>:<span style="color: rgb(181, 137, 0);">Money</span>):<span style="color: rgb(181, 137, 0);">Boolean </span>= <span style="color: rgb(133, 153, 0);">this</span>.dollar == other.dollar &amp;&amp; <span style="color: rgb(133, 153, 0);">this</span>.cent == other.cent

  <span style="color: rgb(133, 153, 0);">def</span> &lt;(other:Money):Boolean = <span style="color: rgb(133, 153, 0);">this</span>.dollar &lt; other.dollar || (<span style="color: rgb(133, 153, 0);">this</span>.dollar == other.dollar &amp;&amp; <span style="color: rgb(133, 153, 0);">this</span>.cent &lt; other.cent)

  <span style="color: rgb(133, 153, 0);">override</span> <span style="color: rgb(133, 153, 0);">def</span> <span style="color: rgb(38, 139, 210);">toString</span> = <span style="color: rgb(42, 161, 152);">&quot;dollar = &quot;</span> + dollar + <span style="color: rgb(42, 161, 152);">&quot; cent = &quot;</span> + cent
}

<span style="color: rgb(133, 153, 0);">object</span> <span style="color: rgb(38, 139, 210);">Money</span>{
  <span style="color: rgb(133, 153, 0);">def</span> <span style="color: rgb(38, 139, 210);">apply</span>(<span style="color: rgb(38, 139, 210);">dollar</span>:<span style="color: rgb(181, 137, 0);">Int</span>,<span style="color: rgb(38, 139, 210);">cent</span>:<span style="color: rgb(181, 137, 0);">Int</span>):<span style="color: rgb(181, 137, 0);">Money</span>={
    <span style="color: rgb(133, 153, 0);">new</span> Money(dollar,cent)
  }

  <span style="color: rgb(133, 153, 0);">def</span> <span style="color: rgb(38, 139, 210);">main</span>(<span style="color: rgb(38, 139, 210);">args</span>:<span style="color: rgb(181, 137, 0);">Array[String]</span>){

    <span style="color: rgb(133, 153, 0);">val</span> <span style="color: rgb(38, 139, 210);">m1</span> = Money(1,200)
    <span style="color: rgb(133, 153, 0);">val</span> <span style="color: rgb(38, 139, 210);">m2</span> = Money(2,2)
    println(m1 + m2)
    println(m1 - m2)
    println(m1 == m2)
    println(m1 &lt; m2)
    println(Money(1,75)+Money(0,50))
    println(Money(1,75)+Money(0,50)==Money(2,25))

  }
}
</pre>
<p style="margin: 5px 10px; text-indent: 40px;">
			不需要提供*和/操作。对于金额来说没有乘除操作
		</p>
</p></div>
</div>
<div class="outline-3" id="outline-container-12-5" style="color: rgb(101, 122, 131); font-family: MONACO, 'trebuchet ms', arial, helvetica, sans-serif; font-size: 13px; background-color: rgb(253, 246, 227);">
<h3 id="sec-12-5" style="margin: 5px 10px;">
		<span class="section-number-3">12.5</span>&nbsp;提供操作符用于构造HTML表格。例如:Table() | &quot;Java&quot; | &quot;Scala&quot; || &quot;Gosling&quot; | &quot;Odersky&quot; || &quot;JVM&quot; | &quot;JVM,.NET&quot;应产出:&lt;table&gt;&lt;tr&gt;&lt;td&gt;Java&lt;/td&gt;&lt;/tr&gt;&lt;td&gt;Scala&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Gosling&hellip;<br />
	</h3>
<div class="outline-text-3" id="text-12-5">
<pre class="src src-scala" style="border: 1pt solid rgb(174, 189, 204); background-color: rgb(243, 245, 247); padding: 5pt; font-family: courier, monospace; font-size: small; overflow: auto; margin: 5px 10px;">
<span style="color: rgb(133, 153, 0);">class</span> <span style="color: rgb(181, 137, 0);">Table</span>{

  <span style="color: rgb(133, 153, 0);">var</span> <span style="color: rgb(38, 139, 210);">s</span>:<span style="color: rgb(181, 137, 0);">String </span>= <span style="color: rgb(42, 161, 152);">&quot;&quot;</span>

  <span style="color: rgb(133, 153, 0);">def</span> <span style="color: rgb(38, 139, 210);">|</span>(<span style="color: rgb(38, 139, 210);">str</span>:<span style="color: rgb(181, 137, 0);">String</span>):<span style="color: rgb(181, 137, 0);">Table</span>={
    <span style="color: rgb(133, 153, 0);">val</span> <span style="color: rgb(38, 139, 210);">t</span> = Table()
    t.s = <span style="color: rgb(133, 153, 0);">this</span>.s + <span style="color: rgb(42, 161, 152);">&quot;&lt;td&gt;&quot;</span> + str + <span style="color: rgb(42, 161, 152);">&quot;&lt;/td&gt;&quot;</span>
    t
  }

  <span style="color: rgb(133, 153, 0);">def</span> <span style="color: rgb(38, 139, 210);">||</span>(<span style="color: rgb(38, 139, 210);">str</span>:<span style="color: rgb(181, 137, 0);">String</span>):<span style="color: rgb(181, 137, 0);">Table</span>={
    <span style="color: rgb(133, 153, 0);">val</span> <span style="color: rgb(38, 139, 210);">t</span> = Table()
    t.s = <span style="color: rgb(133, 153, 0);">this</span>.s + <span style="color: rgb(42, 161, 152);">&quot;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&quot;</span> + str + <span style="color: rgb(42, 161, 152);">&quot;&lt;/td&gt;&quot;</span>
    t
  }

  <span style="color: rgb(133, 153, 0);">override</span> <span style="color: rgb(133, 153, 0);">def</span> <span style="color: rgb(38, 139, 210);">toString</span>():<span style="color: rgb(181, 137, 0);">String</span>={
    <span style="color: rgb(42, 161, 152);">&quot;&lt;table&gt;&lt;tr&gt;&quot;</span> + <span style="color: rgb(133, 153, 0);">this</span>.s + <span style="color: rgb(42, 161, 152);">&quot;&lt;/tr&gt;&lt;/table&gt;&quot;</span>
  }
}

<span style="color: rgb(133, 153, 0);">object</span> <span style="color: rgb(38, 139, 210);">Table</span>{

  <span style="color: rgb(133, 153, 0);">def</span> <span style="color: rgb(38, 139, 210);">apply</span>():<span style="color: rgb(181, 137, 0);">Table</span>={
    <span style="color: rgb(133, 153, 0);">new</span> Table()
  }

  <span style="color: rgb(133, 153, 0);">def</span> <span style="color: rgb(38, 139, 210);">main</span>(<span style="color: rgb(38, 139, 210);">args</span>: <span style="color: rgb(181, 137, 0);">Array[String]</span>) {
    println(Table() | <span style="color: rgb(42, 161, 152);">&quot;Java&quot;</span> | <span style="color: rgb(42, 161, 152);">&quot;Scala&quot;</span> || <span style="color: rgb(42, 161, 152);">&quot;Gosling&quot;</span> | <span style="color: rgb(42, 161, 152);">&quot;Odersky&quot;</span> || <span style="color: rgb(42, 161, 152);">&quot;JVM&quot;</span> | <span style="color: rgb(42, 161, 152);">&quot;JVM,.NET&quot;</span>)
  }
}
</pre>
</p></div>
</div>
<div class="outline-3" id="outline-container-12-6" style="color: rgb(101, 122, 131); font-family: MONACO, 'trebuchet ms', arial, helvetica, sans-serif; font-size: 13px; background-color: rgb(253, 246, 227);">
<h3 id="sec-12-6" style="margin: 5px 10px;">
		<span class="section-number-3">12.6</span>&nbsp;提供一个ASCIIArt类，其对象包含类似这样的图形:<br />
	</h3>
<div class="outline-text-3" id="text-12-6">
<pre class="example" style="border: 1pt solid rgb(174, 189, 204); background-color: rgb(243, 245, 247); padding: 5pt; font-family: courier, monospace; font-size: small; overflow: auto; margin: 5px 10px;">
 /\_/\
( &#39; &#39; )
(  -  )
 | | |
(__|__)
提供将两个ASCIIArt图形横向或纵向结合的操作符。选用适当优先级的操作符命名。纵向结合的实例
 /\_/\     -----
( &#39; &#39; )  / Hello \
(  -  ) &lt;  Scala |
 | | |   \ Coder /
(__|__)    -----
</pre>
<pre class="src src-scala" style="border: 1pt solid rgb(174, 189, 204); background-color: rgb(243, 245, 247); padding: 5pt; font-family: courier, monospace; font-size: small; overflow: auto; margin: 5px 10px;">
<span style="color: rgb(133, 153, 0);">import</span> collection.mutable.ArrayBuffer

<span style="color: rgb(133, 153, 0);">class</span> <span style="color: rgb(181, 137, 0);">ASCIIArt</span>(<span style="color: rgb(38, 139, 210);">str</span>:<span style="color: rgb(181, 137, 0);">String</span>){
  <span style="color: rgb(133, 153, 0);">val</span> <span style="color: rgb(38, 139, 210);">arr</span>:<span style="color: rgb(181, 137, 0);">ArrayBuffer[ArrayBuffer[String]]</span> = <span style="color: rgb(133, 153, 0);">new</span> ArrayBuffer[ArrayBuffer[String]]()

  <span style="color: rgb(133, 153, 0);">if</span> (str != <span style="color: rgb(42, 161, 152);">null</span> &amp;&amp; !str.trim.eq(<span style="color: rgb(42, 161, 152);">&quot;&quot;</span>)){
    str.split(<span style="color: rgb(42, 161, 152);">&quot;[\r\n]+&quot;</span>).foreach{
      line =&gt;
      <span style="color: rgb(133, 153, 0);">val</span> <span style="color: rgb(38, 139, 210);">s</span> = <span style="color: rgb(133, 153, 0);">new</span> ArrayBuffer[String]()
      s += line
      arr += s
    }
  }

  <span style="color: rgb(133, 153, 0);">def</span> <span style="color: rgb(133, 153, 0);">this</span>(){
    <span style="color: rgb(133, 153, 0);">this</span>(<span style="color: rgb(42, 161, 152);">&quot;&quot;</span>)
  }

  <span style="color: rgb(133, 153, 0);">def</span> <span style="color: rgb(38, 139, 210);">+</span>(<span style="color: rgb(38, 139, 210);">other</span>:<span style="color: rgb(181, 137, 0);">ASCIIArt</span>):<span style="color: rgb(181, 137, 0);">ASCIIArt</span>={
    <span style="color: rgb(133, 153, 0);">val</span> <span style="color: rgb(38, 139, 210);">art</span> = <span style="color: rgb(133, 153, 0);">new</span> ASCIIArt()
    <span style="color: rgb(133, 153, 0);">val</span> <span style="color: rgb(38, 139, 210);">length</span> = <span style="color: rgb(133, 153, 0);">if</span> (<span style="color: rgb(133, 153, 0);">this</span>.arr.length &gt;= other.arr.length) <span style="color: rgb(133, 153, 0);">this</span>.arr.length <span style="color: rgb(133, 153, 0);">else</span> other.arr.length
    <span style="color: rgb(133, 153, 0);">for</span>(i &lt;- 0 until length){
      <span style="color: rgb(133, 153, 0);">val</span> <span style="color: rgb(38, 139, 210);">s</span> = <span style="color: rgb(133, 153, 0);">new</span> ArrayBuffer[String]()
      <span style="color: rgb(133, 153, 0);">val</span> <span style="color: rgb(38, 139, 210);">thisArr</span>:<span style="color: rgb(181, 137, 0);">ArrayBuffer[String]</span> = <span style="color: rgb(133, 153, 0);">if</span> (i &lt; <span style="color: rgb(133, 153, 0);">this</span>.arr.length) <span style="color: rgb(133, 153, 0);">this</span>.arr(i) <span style="color: rgb(133, 153, 0);">else</span> <span style="color: rgb(133, 153, 0);">new</span> ArrayBuffer[String]()
      <span style="color: rgb(133, 153, 0);">val</span> <span style="color: rgb(38, 139, 210);">otherArr</span>:<span style="color: rgb(181, 137, 0);">ArrayBuffer[String]</span> = <span style="color: rgb(133, 153, 0);">if</span> (i &lt; other.arr.length) other.arr(i) <span style="color: rgb(133, 153, 0);">else</span> <span style="color: rgb(133, 153, 0);">new</span> ArrayBuffer[String]()
      thisArr.foreach(s += _)
      otherArr.foreach(s += _)
      art.arr += s
    }
    art
  }

  <span style="color: rgb(133, 153, 0);">def</span> <span style="color: rgb(38, 139, 210);">*</span>(<span style="color: rgb(38, 139, 210);">other</span>:<span style="color: rgb(181, 137, 0);">ASCIIArt</span>):<span style="color: rgb(181, 137, 0);">ASCIIArt</span>={
    <span style="color: rgb(133, 153, 0);">val</span> <span style="color: rgb(38, 139, 210);">art</span> = <span style="color: rgb(133, 153, 0);">new</span> ASCIIArt()
    <span style="color: rgb(133, 153, 0);">this</span>.arr.foreach(art.arr += _)
    other.arr.foreach(art.arr += _)
    art
  }

  <span style="color: rgb(133, 153, 0);">override</span> <span style="color: rgb(133, 153, 0);">def</span> <span style="color: rgb(38, 139, 210);">toString</span>()={
    <span style="color: rgb(133, 153, 0);">var</span> <span style="color: rgb(38, 139, 210);">ss</span>:<span style="color: rgb(181, 137, 0);">String </span>= <span style="color: rgb(42, 161, 152);">&quot;&quot;</span>
    arr.foreach{
      ss += _.mkString(<span style="color: rgb(42, 161, 152);">&quot; &quot;</span>) + <span style="color: rgb(42, 161, 152);">&quot;\n&quot;</span>
    }
    ss
  }
}

<span style="color: rgb(133, 153, 0);">object</span> <span style="color: rgb(38, 139, 210);">Test</span> <span style="color: rgb(133, 153, 0);">extends</span> <span style="color: rgb(181, 137, 0);">App</span>{
  <span style="color: rgb(133, 153, 0);">val</span> <span style="color: rgb(38, 139, 210);">a</span> = <span style="color: rgb(133, 153, 0);">new</span> ASCIIArt(<span style="color: rgb(42, 161, 152);">&quot;&quot;&quot; /\_/\</span>
<span style="color: rgb(42, 161, 152);">                         |( &#39; &#39; )</span>
<span style="color: rgb(42, 161, 152);">                         |(  -  )</span>
<span style="color: rgb(42, 161, 152);">                         | | | |</span>
<span style="color: rgb(42, 161, 152);">                         |(__|__)</span>
<span style="color: rgb(42, 161, 152);">                         |&quot;&quot;&quot;</span>.stripMargin)
  <span style="color: rgb(133, 153, 0);">val</span> <span style="color: rgb(38, 139, 210);">b</span> = <span style="color: rgb(133, 153, 0);">new</span> ASCIIArt( <span style="color: rgb(42, 161, 152);">&quot;&quot;&quot;    -----</span>
<span style="color: rgb(42, 161, 152);">                          |  / Hello \</span>
<span style="color: rgb(42, 161, 152);">                          | &lt;  Scala |</span>
<span style="color: rgb(42, 161, 152);">                          |  \ Coder /</span>
<span style="color: rgb(42, 161, 152);">                          |    -----</span>
<span style="color: rgb(42, 161, 152);">                          |&quot;&quot;&quot;</span>.stripMargin)
  println(a + b * b)
  println((a + b) * b)
  println(a * b)
}
</pre>
</p></div>
</div>
<div class="outline-3" id="outline-container-12-7" style="color: rgb(101, 122, 131); font-family: MONACO, 'trebuchet ms', arial, helvetica, sans-serif; font-size: 13px; background-color: rgb(253, 246, 227);">
<h3 id="sec-12-7" style="margin: 5px 10px;">
		<span class="section-number-3">12.7</span>&nbsp;实现一个BigSequence类,将64个bit的序列打包在一个Long值中。提供apply和update操作来获取和设置某个具体的bit<br />
	</h3>
<div class="outline-text-3" id="text-12-7">
<pre class="src src-scala" style="border: 1pt solid rgb(174, 189, 204); background-color: rgb(243, 245, 247); padding: 5pt; font-family: courier, monospace; font-size: small; overflow: auto; margin: 5px 10px;">
<span style="color: rgb(133, 153, 0);">class</span> <span style="color: rgb(181, 137, 0);">BigSequence</span>{
  <span style="color: rgb(133, 153, 0);">var</span> <span style="color: rgb(38, 139, 210);">num</span> = <span style="color: rgb(133, 153, 0);">new</span> Array[Int](64)

  <span style="color: rgb(133, 153, 0);">for</span> (i &lt;- 0 until num.length){
    num(i) = -1
  }

  <span style="color: rgb(133, 153, 0);">def</span> <span style="color: rgb(38, 139, 210);">pack</span>():<span style="color: rgb(181, 137, 0);">Long</span>={
    num.filter(_ &gt;= 0).mkString.toLong
  }
}

<span style="color: rgb(133, 153, 0);">object</span> <span style="color: rgb(38, 139, 210);">BigSequence</span>{

  <span style="color: rgb(133, 153, 0);">def</span> <span style="color: rgb(38, 139, 210);">apply</span>(<span style="color: rgb(38, 139, 210);">num</span>:<span style="color: rgb(181, 137, 0);">Int</span>):<span style="color: rgb(181, 137, 0);">BigSequence</span>={
    <span style="color: rgb(133, 153, 0);">val</span> <span style="color: rgb(38, 139, 210);">b</span> = <span style="color: rgb(133, 153, 0);">new</span> BigSequence
    <span style="color: rgb(133, 153, 0);">var</span> <span style="color: rgb(38, 139, 210);">i</span> = 0
    num.toString.foreach{
      n=&gt;
      b.num(i) = n.getNumericValue
      i+=1
    }
    b
  }

  <span style="color: rgb(133, 153, 0);">def</span> <span style="color: rgb(38, 139, 210);">main</span>(<span style="color: rgb(38, 139, 210);">args</span>: <span style="color: rgb(181, 137, 0);">Array[String]</span>) {
    <span style="color: rgb(133, 153, 0);">val</span> <span style="color: rgb(38, 139, 210);">b</span> = BigSequence(10100)
    println(b.pack())
  }
}
</pre>
</p></div>
</div>
<div class="outline-3" id="outline-container-12-8" style="color: rgb(101, 122, 131); font-family: MONACO, 'trebuchet ms', arial, helvetica, sans-serif; font-size: 13px; background-color: rgb(253, 246, 227);">
<h3 id="sec-12-8" style="margin: 5px 10px;">
		<span class="section-number-3">12.8</span>&nbsp;提供一个Matrix类&mdash;你可以选择需要的是一个2*2的矩阵，任意大小的正方形矩阵，或m*n的矩阵。支持+和*操作。*操作应同样适用于单值，例如mat*2。单个元素可以通过mat(row,col)得到<br />
	</h3>
<div class="outline-text-3" id="text-12-8">
<pre class="src src-scala" style="border: 1pt solid rgb(174, 189, 204); background-color: rgb(243, 245, 247); padding: 5pt; font-family: courier, monospace; font-size: small; overflow: auto; margin: 5px 10px;">
<span style="color: rgb(133, 153, 0);">class</span> <span style="color: rgb(181, 137, 0);">Matrix</span>(<span style="color: rgb(133, 153, 0);">val</span> <span style="color: rgb(38, 139, 210);">x</span>:<span style="color: rgb(181, 137, 0);">Int</span>,<span style="color: rgb(133, 153, 0);">val</span> <span style="color: rgb(38, 139, 210);">y</span>:<span style="color: rgb(181, 137, 0);">Int</span>){

  <span style="color: rgb(133, 153, 0);">def</span> <span style="color: rgb(38, 139, 210);">+</span>(<span style="color: rgb(38, 139, 210);">other</span>:<span style="color: rgb(181, 137, 0);">Matrix</span>):<span style="color: rgb(181, 137, 0);">Matrix</span>={
    Matrix(<span style="color: rgb(133, 153, 0);">this</span>.x + other.x,<span style="color: rgb(133, 153, 0);">this</span>.y + other.y)
  }

  <span style="color: rgb(133, 153, 0);">def</span> <span style="color: rgb(38, 139, 210);">+</span>(<span style="color: rgb(38, 139, 210);">other</span>:<span style="color: rgb(181, 137, 0);">Int</span>):<span style="color: rgb(181, 137, 0);">Matrix</span>={
    Matrix(<span style="color: rgb(133, 153, 0);">this</span>.x + other,<span style="color: rgb(133, 153, 0);">this</span>.y + other)
  }

  <span style="color: rgb(133, 153, 0);">def</span> <span style="color: rgb(38, 139, 210);">*</span>(<span style="color: rgb(38, 139, 210);">other</span>:<span style="color: rgb(181, 137, 0);">Matrix</span>):<span style="color: rgb(181, 137, 0);">Matrix</span>={
    Matrix(<span style="color: rgb(133, 153, 0);">this</span>.x * other.x,<span style="color: rgb(133, 153, 0);">this</span>.y * other.y)
  }

  <span style="color: rgb(133, 153, 0);">def</span> <span style="color: rgb(38, 139, 210);">*</span>(<span style="color: rgb(38, 139, 210);">other</span>:<span style="color: rgb(181, 137, 0);">Int</span>):<span style="color: rgb(181, 137, 0);">Matrix</span>={
    Matrix(<span style="color: rgb(133, 153, 0);">this</span>.x * other,<span style="color: rgb(133, 153, 0);">this</span>.y * other)
  }

  <span style="color: rgb(133, 153, 0);">override</span> <span style="color: rgb(133, 153, 0);">def</span> <span style="color: rgb(38, 139, 210);">toString</span>()={
    <span style="color: rgb(133, 153, 0);">var</span> <span style="color: rgb(38, 139, 210);">str</span> = <span style="color: rgb(42, 161, 152);">&quot;&quot;</span>
    <span style="color: rgb(133, 153, 0);">for</span>(i &lt;- 1 to x){
      <span style="color: rgb(133, 153, 0);">for</span>(j &lt;- 1 to y){
        str += <span style="color: rgb(42, 161, 152);">&quot;*&quot;</span>
      }
      str += <span style="color: rgb(42, 161, 152);">&quot;\n&quot;</span>
    }
    str
  }
}

<span style="color: rgb(133, 153, 0);">object</span> <span style="color: rgb(38, 139, 210);">Matrix</span>{
  <span style="color: rgb(133, 153, 0);">def</span> <span style="color: rgb(38, 139, 210);">apply</span>(<span style="color: rgb(38, 139, 210);">x</span>:<span style="color: rgb(181, 137, 0);">Int</span>,<span style="color: rgb(38, 139, 210);">y</span>:<span style="color: rgb(181, 137, 0);">Int</span>):<span style="color: rgb(181, 137, 0);">Matrix</span>= <span style="color: rgb(133, 153, 0);">new</span> Matrix(x,y)

  <span style="color: rgb(133, 153, 0);">def</span> <span style="color: rgb(38, 139, 210);">main</span>(<span style="color: rgb(38, 139, 210);">args</span>: <span style="color: rgb(181, 137, 0);">Array[String]</span>) {
    <span style="color: rgb(133, 153, 0);">val</span> <span style="color: rgb(38, 139, 210);">m</span> = Matrix(2,2)
    <span style="color: rgb(133, 153, 0);">val</span> <span style="color: rgb(38, 139, 210);">n</span> = Matrix(3,4)
    println(m)
    println(n)
    println(m + n)
    println()
    println(m * n)
    println()
    println(m + 2)
    println()
    println(n * 2)
    println()
  }
}
</pre>
</p></div>
</div>
<div class="outline-3" id="outline-container-12-9" style="color: rgb(101, 122, 131); font-family: MONACO, 'trebuchet ms', arial, helvetica, sans-serif; font-size: 13px; background-color: rgb(253, 246, 227);">
<h3 id="sec-12-9" style="margin: 5px 10px;">
		<span class="section-number-3">12.9</span>&nbsp;为RichFile类定义unapply操作，提取文件路径，名称和扩展名。举例来说，文件/home/cay/readme.txt的路径为/home/cay,名称为readme,扩展名为txt<br />
	</h3>
<div class="outline-text-3" id="text-12-9">
<pre class="src src-scala" style="border: 1pt solid rgb(174, 189, 204); background-color: rgb(243, 245, 247); padding: 5pt; font-family: courier, monospace; font-size: small; overflow: auto; margin: 5px 10px;">
<span style="color: rgb(133, 153, 0);">class</span> <span style="color: rgb(181, 137, 0);">RichFile</span>(<span style="color: rgb(133, 153, 0);">val</span> <span style="color: rgb(38, 139, 210);">path</span>:<span style="color: rgb(181, 137, 0);">String</span>){}

<span style="color: rgb(133, 153, 0);">object</span> <span style="color: rgb(38, 139, 210);">RichFile</span>{
  <span style="color: rgb(133, 153, 0);">def</span> <span style="color: rgb(38, 139, 210);">apply</span>(<span style="color: rgb(38, 139, 210);">path</span>:<span style="color: rgb(181, 137, 0);">String</span>):<span style="color: rgb(181, 137, 0);">RichFile</span>={
    <span style="color: rgb(133, 153, 0);">new</span> RichFile(path)
  }

  <span style="color: rgb(133, 153, 0);">def</span> <span style="color: rgb(38, 139, 210);">unapply</span>(<span style="color: rgb(38, 139, 210);">richFile</span>:<span style="color: rgb(181, 137, 0);">RichFile</span>) = {
    <span style="color: rgb(133, 153, 0);">if</span>(richFile.path == <span style="color: rgb(42, 161, 152);">null</span>){
      None
    } <span style="color: rgb(133, 153, 0);">else</span> {
      <span style="color: rgb(133, 153, 0);">val</span> <span style="color: rgb(38, 139, 210);">reg</span> = <span style="color: rgb(42, 161, 152);">&quot;([/\w+]+)/(\w+)\.(\w+)&quot;</span>.r
      <span style="color: rgb(133, 153, 0);">val</span> <span style="color: rgb(38, 139, 210);">reg</span>(<span style="color: rgb(38, 139, 210);">r1</span>,<span style="color: rgb(38, 139, 210);">r2</span>,<span style="color: rgb(38, 139, 210);">r3</span>) = richFile.path
      Some((r1,r2,r3))
    }
  }

  <span style="color: rgb(133, 153, 0);">def</span> <span style="color: rgb(38, 139, 210);">main</span>(<span style="color: rgb(38, 139, 210);">args</span>: <span style="color: rgb(181, 137, 0);">Array[String]</span>) {
    <span style="color: rgb(133, 153, 0);">val</span> <span style="color: rgb(38, 139, 210);">richFile</span> = RichFile(<span style="color: rgb(42, 161, 152);">&quot;/home/cay/readme.txt&quot;</span>)
    <span style="color: rgb(133, 153, 0);">val</span> <span style="color: rgb(181, 137, 0);">RichFile</span>(<span style="color: rgb(38, 139, 210);">r1</span>,<span style="color: rgb(38, 139, 210);">r2</span>,<span style="color: rgb(38, 139, 210);">r3</span>) = richFile
    println(r1)
    println(r2)
    println(r3)
  }
}
</pre>
</p></div>
</div>
<div class="outline-3" id="outline-container-12-10" style="color: rgb(101, 122, 131); font-family: MONACO, 'trebuchet ms', arial, helvetica, sans-serif; font-size: 13px; background-color: rgb(253, 246, 227);">
<h3 id="sec-12-10" style="margin: 5px 10px;">
		<span class="section-number-3">12.10</span>&nbsp;为RichFile类定义一个unapplySeq，提取所有路径段。举例来说，对于/home/cay/readme.txt，你应该产出三个路径段的序列:home,cay和readme.txt<br />
	</h3>
<div class="outline-text-3" id="text-12-10">
<pre class="src src-scala" style="border: 1pt solid rgb(174, 189, 204); background-color: rgb(243, 245, 247); padding: 5pt; font-family: courier, monospace; font-size: small; overflow: auto; margin: 5px 10px;">
<span style="color: rgb(133, 153, 0);">class</span> <span style="color: rgb(181, 137, 0);">RichFile</span>(<span style="color: rgb(133, 153, 0);">val</span> <span style="color: rgb(38, 139, 210);">path</span>:<span style="color: rgb(181, 137, 0);">String</span>){}

<span style="color: rgb(133, 153, 0);">object</span> <span style="color: rgb(38, 139, 210);">RichFile</span>{
  <span style="color: rgb(133, 153, 0);">def</span> <span style="color: rgb(38, 139, 210);">apply</span>(<span style="color: rgb(38, 139, 210);">path</span>:<span style="color: rgb(181, 137, 0);">String</span>):<span style="color: rgb(181, 137, 0);">RichFile</span>={
    <span style="color: rgb(133, 153, 0);">new</span> RichFile(path)
  }

  <span style="color: rgb(133, 153, 0);">def</span> <span style="color: rgb(38, 139, 210);">unapplySeq</span>(<span style="color: rgb(38, 139, 210);">richFile</span>:<span style="color: rgb(181, 137, 0);">RichFile</span>):<span style="color: rgb(181, 137, 0);">Option[Seq[String]]</span>={
    <span style="color: rgb(133, 153, 0);">if</span>(richFile.path == <span style="color: rgb(42, 161, 152);">null</span>){
      None
    } <span style="color: rgb(133, 153, 0);">else</span> {
      Some(richFile.path.split(<span style="color: rgb(42, 161, 152);">&quot;/&quot;</span>))
    }
  }

  <span style="color: rgb(133, 153, 0);">def</span> <span style="color: rgb(38, 139, 210);">main</span>(<span style="color: rgb(38, 139, 210);">args</span>: <span style="color: rgb(181, 137, 0);">Array[String]</span>) {
    <span style="color: rgb(133, 153, 0);">val</span> <span style="color: rgb(38, 139, 210);">richFile</span> = RichFile(<span style="color: rgb(42, 161, 152);">&quot;/home/cay/readme.txt&quot;</span>)
    <span style="color: rgb(133, 153, 0);">val</span> <span style="color: rgb(181, 137, 0);">RichFile</span>(<span style="color: rgb(38, 139, 210);">r</span> <span style="color: rgb(38, 139, 210);">@</span> <span style="color: rgb(38, 139, 210);">_*</span>) = richFile
    println(r)
  }
}</pre>
</p></div>
</div>
<p>
	&nbsp;</p>

</div>

    <div class="pure-g pagination">
        
        <a class="pure-u-1-2 pagination-item " href="/scala-tomcat/how-tomcat-worksscala%25e8%25af%25ad%25e8%25a8%2580-01-%25e4%25b8%2580%25e4%25b8%25aa%25e7%25ae%2580%25e5%258d%2595%25e7%259a%2584web%25e6%259c%258d%25e5%258a%25a1%25e5%2599%25a8.html" title="How Tomcat Works(Scala语言) 01 一个简单的Web服务器 "><p> <i class="fa fa-mail-reply"></i>&nbsp;How Tomcat Works(Scala语言) 01 一个简单的Web服务器</p></a>
        
        
        <a class="pure-u-1-2 pagination-item " href="/scala-tomcat/how-tomcat-worksscala%25e8%25af%25ad%25e8%25a8%2580-02-%25e4%25b8%2580%25e4%25b8%25aa%25e7%25ae%2580%25e5%258d%2595%25e7%259a%2584servlet%25e5%25ae%25b9%25e5%2599%25a8.html" title="How Tomcat Works(Scala语言) 02 一个简单的Servlet容器"><p>How Tomcat Works(Scala语言) 02 一个简单的Servlet容器&nbsp;<i class="fa fa-mail-forward"></i></p></a>
        
    </div>
    <link href="/css/code.css" rel="stylesheet">
    <link href="/css/min/fancybox.css" rel="stylesheet">
    <script src="/js/min/jquery.toc.min.js" ></script>
    <script src="/js/min/jquery.qrcode.min.js" ></script>
    <script src="/js/min/jquery.fancybox.pack.js" ></script>
    <script src="/js/page.js" ></script>

    
    

    
    
    <a name="comments"> </a>
<div id="comment">
    <div class="ds-thread" data-title="快学Scala习题解答—第十一章 操作符"></div>
    <script type="text/javascript">
        var duoshuoQuery = {short_name:""};
        (function() {
            var ds = document.createElement('script');
            ds.type = 'text/javascript';ds.async = true;
            ds.src = '../js/min/duoshuo.js';
            ds.charset = 'UTF-8';
            (document.getElementsByTagName('head')[0]
                    || document.getElementsByTagName('body')[0]).appendChild(ds);
        })();
    </script>
</div>

    






            </div>
            </div>
        <div class="footer">
                <a href="/love/welcome-my-blog.html">About</a>
                 <a href="/1">Collecting</a>
                <a href="tencent://message/?uin=561802774">QQ</a>
                <a href="https://github.com/ivanpig">GitHub</a>
            <script src="/js/min/nprogress.min.js"></script>
            <script src="/js/index.js"></script>
        </div>
        <div class="topfade"><a href="javascript:;" title="返回顶部"></a></div>

    </div>

</div>

</body>

</html>
